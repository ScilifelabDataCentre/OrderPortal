# OrderPortal order status definitions.
#
# This file is read on server startup, so a restart is required 
# whenever it has been modified.
#
# 'identifier': The identifier of the status. This value is used in the database
#               and for the icon name of the status.
# 'description': One-line description of what the status means.
# 'edit': Which account roles are allowed to edit the order when it is in this status?
#         The possible account roles are user, staff, admin.
# 'attach': Which account roles are allowed to attach a document to the order when
#           it is in this status? Same roles as above.
# 'action': The name of the action bringing an order into this status.
#           Used only in the web interface.
#
# Remove or comment out any unwanted statuses before deploying your site.
# It is possible to add statuses later without any resulting problems.
#
# Removing a status can be done *only if* no order is, or has been, in that status.
# Removing statuses from a deployed site is a bad idea:
# Orders and order histories in the database will become corrupt and may
# cause crashes and/or unwanted behaviour.
# Statuses are therefore in practice not possible to remove once the site has been
# deployed.
#
# This list contains all statuses for which there are icon files in the 'static'
# subdirectory. If you rename or add a status, ensure that the icon file is
# renamed or added.
#
# It is possible to change the description and edit and attach privileges
# for a site that has been deployed.
#
# The allowed transitions between statuses are defined in the file
# 'order_transitions.yaml'.

# Status 'preparation' is required, and must not be removed or renamed!
- identifier: preparation
  initial: true
  description: The order has been created and is being edited by the user.
  edit: [user, admin]
  attach: [user, admin]
  action: Prepare

# Status 'submitted' is required, and must not be removed or renamed!
- identifier: submitted
  description: The order has been submitted by the user for consideration by the facility.
  attach: [user, admin]
  action: Submit

- identifier: review
  description: The order is under review by the facility.
  edit: [admin]
  attach: [user, admin]
  action: Review

- identifier: queued
  description: The order has been queued.
  action: Queue

- identifier: waiting
  description: The order is waiting.
  action: Wait

- identifier: accepted
  description: The order has been checked and accepted by the facility.
  attach: [user, admin]
  action: Accept

- identifier: rejected
  description: The order has been rejected by the facility.
  action: Reject

- identifier: processing
  description: The order is being processed; the facility is working on it.
  attach: [admin]
  action: Process

- identifier: active
  description: The order is active in the lab.
  attach: [admin]
  action: Active

- identifier: onhold
  description: The order is on hold.
  action: On hold

- identifier: aborted
  description: The work on the order has been permanently stopped.
  action: Abort

- identifier: cancelled
  description: The order has been cancelled.
  action: Cancel

- identifier: finished
  description: The order has been finished.
  action: Finish

- identifier: closed
  description: All work and other actions for the order have been performed.
  attach: [admin]
  action: Close

- identifier: delivered
  description: The order result have been delivered.
  action: Deliver

- identifier: invoiced
  description: The order has been invoiced.
  attach: [admin]
  action: Invoice

- identifier: archived
  description: The order has been archived.
  action: Archive
