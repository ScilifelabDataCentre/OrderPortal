{# Admin orders list edit page. #}

{% extends "base.html" %}

{% block head_title %}Edit {{ terminology('Orders') }} list parameters{% end %}

{% block body_title %}Edit {{ terminology('Orders') }} list parameters{% end %}

{% block action_content %}
<form action="{{ reverse_url('admin_orders_list') }}"
      method="GET" role="form">
    <button type="submit" class="btn btn-default btn-block">
      <span class="glyphicon glyphicon-remove"></span> Cancel
    </button>
</form>
{% end %} {# block action_content #}

{% block main_content %}
<form action="{{ reverse_url('admin_orders_list_edit') }}"
      method="POST" role="form">
  {% module xsrf_form_html() %}

  <div class="form-group">
    <div class="row">
      <div class="col-md-12">
        <label class="control-label" for="orders_list_tags">
          {{ terminology('Orders') }} list tags</label>
        <div class="checkbox">
          <label>
            <input type="checkbox" id="orders_list_tags" name="orders_list_tags"
                   value="yes" {{ parameters['ORDERS_LIST_TAGS'] and 'checked' or '' }}>
            Yes, display the tags for an {{ terminology('order') }} in the
            {{ terminology('orders') }} list.
          </label>
        </div>
      </div>
    </div>
  </div>

  <div class="form-group">
    <div class="row">
      <div class="col-md-12">
        <label class="control-label" for="orders_list_statuses">
          {{ terminology('Orders') }} list statuses</label>
        {% for target in parameters['ORDER_STATUSES_LOOKUP'] %}
        <div class="checkbox">
          <label>
            <input type="checkbox" name="orders_list_statuses" value="{{ target }}"
                   {{ target in parameters['ORDERS_LIST_STATUSES'] and 'checked' or '' }}>
            {{ target }}
          </label>
        </div>
        {% end %}
      </div>
    </div>
  </div>

  <div class="form-group">
    <div class="row">
      <div class="col-md-4">
        <label class="control-label" for="orders_list_fields">
          {{ terminology('Orders') }} list fields</label>
        <textarea id="orders_list_fields" name="orders_list_fields"
                  class="form-control" rows="4">
          {{ '\n'.join(parameters['ORDERS_LIST_FIELDS']) }}
        </textarea>
      </div>
    </div>
    <span class="help-block">
      Display a column for each {{ terminology('order') }} field given by
      its identifier.
      One field identifier per line.
      The field does not have to exist in every {{ terminology('order') }}.
    </span>
  </div>

  <div class="form-group">
    <div class="row">
      <div class="col-md-4">
        <label for="orders_most_recent">Max most recent</label>
        <input type="number" id="orders_most_recent" name="orders_most_recent"
               class="form-control"
               min="10" value="{{ parameters['DISPLAY_ORDERS_MOST_RECENT'] }}">
      </div>
    </div>
    <span class="help-block">
      The maximum number of most recent {{ terminology('orders') }} fetched by
      default for the {{ terminology('orders') }} list.
    </span>
  </div>

  <div class="form-group">
    <div class="row">
      <div class="col-md-4">
        <label class="control-label" for="display">Default column to order by</label>
        <div class="radio">
          <label>
            <input type="radio" name="default_order_column" value="identifier"
                   {{ parameters['DEFAULT_ORDER_COLUMN'] == 'identifier' and 'checked' }}>
            Identifier
          </label>
        </div>
        <div class="radio">
          <label>
            <input type="radio" name="default_order_column" value="modified"
                   {{ parameters['DEFAULT_ORDER_COLUMN'] == 'modified' and 'checked' }}>
            Modified
          </label>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12 help-block">
        The column used for the default ordering in the
        {{ terminology('orders') }} list.
      </div>
    </div>
  </div>

  <div class="form-group">
    <div class="row">
      <div class="col-md-4">
        <label class="control-label" for="display">Default sort direction</label>
        <div class="radio">
          <label>
            <input type="radio" name="default_order_sort" value="desc"
                   {{ parameters['DEFAULT_ORDER_SORT'] == 'desc' and 'checked' }}>
            Descending
          </label>
        </div>
        <div class="radio">
          <label>
            <input type="radio" name="default_order_sort" value="asc"
                   {{ parameters['DEFAULT_ORDER_SORT'] == 'asc' and 'checked' }}>
            Ascending
          </label>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12 help-block">
        The default sort direction for the default ordering in the
        {{ terminology('orders') }} list.
      </div>
    </div>
  </div>

  <div class="form-group">
    <div class="row">
      <div class="col-md-3">
        <label class="control-label"></label>
        <button type="submit" class="btn btn-success btn-block">
          <span class="glyphicon glyphicon-floppy-disk"></span> Save</button>
      </div>
    </div>
  </div>

</form>
{% end %} {# block main_content #}
